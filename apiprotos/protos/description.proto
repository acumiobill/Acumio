syntax = "proto3";

import "google/protobuf/timestamp.proto";

package acumio.model;
option java_package = "com.acumio.model";

message Description {
  string contents = 1;
  google.protobuf.Timestamp edit_time = 2;
  // Names the user who last updated this description.
  // The editor should be one of the following:
  //    Empty String: If no Description
  //    "acumio" : If generated by automated process
  //    a string matching User.name for some User: If last edited by that user.
  string editor = 3;

  enum SourceCategory {
    NOT_SPECIFIED = 0;
    ACUMIO_LINEAGE = 1;
    ACUMIO_ENTITY_REFERENCE = 2;
    HUMAN_DOMAIN_KNOWLEDGE = 3;
    HUMAN_ENTITY_REFERENCE = 4;
    HUMAN_OTHER_REFERENCE = 5;
    HUMAN_OTHER = 6;
  }

  // Where does this description come from? If generated by Acumio, it will
  // refer to the documentation of a related entity. If generated by a
  // person, it might either be from domain knowledge, or may refer to an
  // existing text.
  SourceCategory knowledge_source_category = 4;
  string knowledge_source = 5;
}

// The most common need is to just get the latest Description information.
// However, for Wiki-style history, we want a bit more information.
message DescriptionHistory {
  repeated Description version = 2;
}
